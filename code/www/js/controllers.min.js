angular.module("songhop.controllers",["ionic","songhop.services"]).controller("DiscoverCtrl",function(b,f,d,g,e){var a=function(){f.show({template:'<i class="ion-loading-c"></i>',noBackdrop:true});
};var c=function(){f.hide();};a();e.init().then(function(){b.currentSong=e.queue[0];e.playCurrentSong();}).then(function(){c();b.currentSong.loaded=true;
});b.sendFeedback=function(h){if(h){g.addSongTofavorites(b.currentSong);}b.currentSong.rated=h;b.currentSong.hide=true;e.nextSongs();d(function(){b.currentSong=e.queue[0];
b.currentSong.loaded=false;},250);e.playCurrentSong().then(function(){b.currentSong.loaded=true;});};b.nextAlbumImg=function(){if(e.queue.length>1){return e.queue[1].image_large;
}return"";};}).controller("favoritesCtrl",function(a,b,c){a.favorites=c.favorites;a.removeSong=function(e,d){c.removeSongFromfavorites(e,d);};a.openSong=function(d){b.open(d.open_url,"_system");
};}).controller("TabsCtrl",function(a,b,c){a.favCount=c.favoritesCount;a.enteringFavorites=function(){c.newFavorites=0;b.haltAudio();};a.leavingFavorites=function(){b.init();
};});